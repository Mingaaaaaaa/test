{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\MessageBoard\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Register from './pages/Register/Register';\nimport { Link, Route, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport Message from './pages/Message/Message';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      access_token: ''\n    };\n\n    this.login = () => {\n      //发送登录请求\n      const name = this.username.value;\n      const password = this.password.value;\n      const push = this.props.history.push;\n\n      if (name === '' || password === '') {\n        alert('好像有什么没输入~');\n      } else {\n        var app = this;\n        let formData = new FormData();\n        formData.append(\"username\", name);\n        formData.append(\"password\", password);\n        axios.post('/login', formData).then(function (response) {\n          console.log(response); //登录成功后执行展示留言板界面\n\n          console.log('登陆成功咯，跳转留言展示界面');\n          document.getElementById('login').style.display = 'none';\n          app.setState({\n            access_token: response.data.access_token\n          });\n          console.log(response.data.access_token);\n          push(`/message/${name}/${response.data.access_token}`);\n        }).catch(function (error) {\n          //登陆失败时\n          console.log('登陆失败了');\n          alert('啊哦，账号密码有误！');\n        });\n        console.log(this.username.value);\n        console.log(this.password.value);\n      }\n    };\n\n    this.register = () => {\n      console.log('跳到注册页');\n      document.getElementById('login').style.display = 'none';\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"login\",\n        children: [\"Welcome\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 12\n        }, this), \"\\u8F93\\u7528\\u6237\\u540D\", /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: c => this.username = c,\n          name: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 63\n        }, this), \"\\u8F93\\u5165\\u5BC6\\u7801\", /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: c => this.password = c,\n          name: \"password\",\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 83\n        }, this), \" \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.login,\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), \"         \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.register,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/register`,\n            children: \"\\u6CE8\\u518C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: '/register',\n        component: Register\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: '/message/:name/:access_token',\n        component: Message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["D:/project/MessageBoard/src/App.js"],"names":["React","Component","Register","Link","Route","withRouter","axios","Message","App","state","access_token","login","name","username","value","password","push","props","history","alert","app","formData","FormData","append","post","then","response","console","log","document","getElementById","style","display","setState","data","catch","error","register","render","c"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Register  from './pages/Register/Register'\r\nimport {Link, Route ,withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport Message from './pages/Message/Message'\r\n \r\nclass App extends Component {\r\n    state={access_token:''}\r\n  login=()=>{\r\n    //发送登录请求\r\n    const name=this.username.value\r\n    const password=this.password.value\r\n    const push=this.props.history.push\r\n   \r\n    if(name === '' || password === '' ){alert('好像有什么没输入~')}\r\n    else{\r\n          var app=this\r\n          let formData = new FormData()\r\n          formData.append(\"username\",name)\r\n          formData.append(\"password\",password)\r\n\r\n          axios.post('/login',formData)\r\n              .then(function (response) {\r\n                console.log(response);\r\n                //登录成功后执行展示留言板界面\r\n                console.log('登陆成功咯，跳转留言展示界面')\r\n                document.getElementById('login').style.display='none'\r\n                app.setState({access_token:response.data.access_token})\r\n                console.log(response.data.access_token)\r\n                push(`/message/${name}/${response.data.access_token}`)\r\n              })\r\n              .catch(function (error) {\r\n                //登陆失败时\r\n                console.log('登陆失败了')\r\n                alert('啊哦，账号密码有误！')\r\n              });\r\n                \r\n              console.log(this.username.value)\r\n              console.log(this.password.value)\r\n      }}\r\n\r\n \r\n   register=()=>{\r\n      console.log('跳到注册页')\r\n      document.getElementById('login').style.display='none'\r\n}\r\n\r\n  render() {\r\n        \r\n        return (\r\n          <div>\r\n          <div id='login'>\r\n           Welcome\r\n           <br></br>\r\n            输用户名<input ref={c=>this.username=c} name=\"name\" /><br></br>\r\n            输入密码<input ref={c=>this.password=c} name=\"password\" type=\"password\"/> <br></br> &nbsp;&nbsp;\r\n            <button onClick={this.login}>登录</button>         &nbsp;&nbsp;\r\n            <button onClick={this.register}>\r\n            <Link to={`/register`}>注册</Link>\r\n            </button>\r\n\r\n          </div>\r\n          <Route path={'/register'}  component={Register} /> \r\n          <Route path={'/message/:name/:access_token'} component={Message}/ > \r\n\r\n          </div>\r\n        )\r\n      }\r\n    }\r\nexport default withRouter(App)\r\n"]},"metadata":{},"sourceType":"module"}